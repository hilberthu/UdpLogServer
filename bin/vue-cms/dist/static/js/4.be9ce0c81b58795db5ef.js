webpackJsonp([4],{Y5P1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("mvHQ"),i=a.n(l),n=a("Q5rI"),o=[{id:"fishboost",name:"关前道具-飞机"},{id:"bombAndLineBoost",name:"关前道具-炸弹加排消"},{id:"ballboost",name:"关前道具-彩虹球"},{id:"100",name:"关内道具-锤子"},{id:"101",name:"关内道具-十字锤"},{id:"102",name:"关内道具-交换手"},{id:"211",name:"金币"},{id:"212",name:"体力"},{id:"213",name:"星星"},{id:"214",name:"装饰币"},{id:"215",name:"限时体力"},{id:"newhall_1571798786_0001",name:"大厅花坛"},{id:"newhall_1571798790_0001",name:"装饰画"}];function s(t,e){console.log(e),alert("发送成功")}var r={data:function(){return{tableData:[],dialogFormVisible:!1,attach_count:1,formLabelWidth:"120px",form:{region:""},begin_end:[],mail_text:"",mail_title:""}},computed:{selectRoleList:function(){return o}},methods:{add_attach:function(){console.log("form.region==",this.form.region);var t=function(t){for(var e in o)if(o[e].name==t)return o[e].id;return""}(this.form.region);console.log("id==",t),console.log("count==",this.attach_count),this.dialogFormVisible=!1,this.tableData.push({Id:t,Name:this.form.region,Count:this.attach_count,Index:this.tableData.length}),console.log("tableData==",this.tableData)},DelAttach:function(t){this.tableData.splice(t.index,1),console.log("this.tableData==",this.tableData)},Send:function(){var t={};if(t.BeginTime=Date.parse(this.begin_end[0])/1e3,t.EndTime=Date.parse(this.begin_end[1])/1e3,t.MailTitil=this.mail_title,t.Text=this.mail_text,t.AttachList=this.tableData,t.EndTime<t.BeginTime)alert("邮件过期时间小于生效事件！");else if(""!=t.MailTitil)if(""!=t.Text){var e=i()(t);n.a.myajax("add_system_mail",e,s,this),console.log("SendData")}else alert("邮件内容不能位空！");else alert("邮件标题不能位空！")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("邮件生效时间与过期时间:")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.begin_end,callback:function(e){t.begin_end=e},expression:"begin_end"}}),t._v(" "),a("el-divider"),t._v(" "),a("div",{staticClass:"demo-input-suffix",staticStyle:{left:"50%"}},[t._v("\n    邮件标题：\n    "),a("el-input",{attrs:{placeholder:"请输入邮件标题"},model:{value:t.mail_title,callback:function(e){t.mail_title=e},expression:"mail_title"}})],1),t._v(" "),a("el-divider"),t._v(" "),a("div",{staticClass:"demo-input-suffix"},[t._v("\n    邮件正文：\n    "),a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:t.mail_text,callback:function(e){t.mail_text=e},expression:"mail_text"}})],1),t._v(" "),a("el-divider"),t._v(" "),a("el-table",{attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"Id",label:"Id",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"资源名字",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Count",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.DelAttach(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加附件")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.Send()}}},[t._v("发送")]),t._v(" "),a("el-dialog",{attrs:{title:"添加附件",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"请选择附件","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择附件"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},t._l(t.selectRoleList,function(t){return a("el-option",{key:t.id,attrs:{lable:t.id,value:t.name}})}),1)],1),t._v(" "),a("div",{staticClass:"demo-input-suffix"},[t._v("\n        数量：\n        "),a("el-input",{attrs:{placeholder:"1"},model:{value:t.attach_count,callback:function(e){t.attach_count=e},expression:"attach_count"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_attach()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},d=a("VU/8")(r,c,!1,null,null,null);e.default=d.exports}});
//# sourceMappingURL=4.be9ce0c81b58795db5ef.js.map